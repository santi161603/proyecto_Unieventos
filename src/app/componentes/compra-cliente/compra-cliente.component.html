<div class="compra-cliente-container">
  <h2>Detalles de la Compra</h2>

  <div class="evento-detalle" *ngIf="eventoCompra">
    <img [src]="eventoCompra.imagenPoster" alt="Imagen del evento" class="evento-imagen"/>
    <div class="evento-info">
      <h3>{{ eventoCompra.nombre }}</h3>
      <p>{{ eventoCompra.descripcion }}</p>
    </div>
  </div>

  <div class="subevento-detalle" *ngIf="subEventoCompra">
    <h4>Detalles del Subevento</h4>
    <p><strong>Fecha:</strong> {{ subEventoCompra.fechaEvento | date:'dd/MM/yyyy' }}</p>
    <p><strong>Hora:</strong> {{ subEventoCompra.horaEvento }}</p>
    <p><strong>Localidad:</strong> {{ subEventoCompra.localidadNombre }}</p>
    <p><strong>Precio por Entrada:</strong> {{ subEventoCompra.precioEntrada | currency:'COP' }}</p>
    <p><strong>Cantidad de Entradas:</strong> {{ itemCarrito.cantidadEntradas }}</p>
  </div>

  <div *ngIf="itemCarrito.cuponRedimido; else cuponRedimido" class="carrito-cupon d-flex align-items-center">
    <p>Has redimido el cupón: {{ itemCarrito.textIngresado }}</p>
     </div>
      <ng-template #cuponRedimido>
      <input type="text" class="form-control me-2" placeholder="Cupón" [(ngModel)]="itemCarrito.textIngresado" style="width: 150px;">
      <button (click)="redimirCupon(itemCarrito)" class="btn btn-success btn-sm">Redimir</button>
      </ng-template>

  <div class="total-section">
    <label for="totalCompra">Total de la Compra:</label>
    <input type="text" id="totalCompra" [value]="totalCompra | currency:'COP'" disabled />
  </div>

  <button (click)="crearOrden()" class="btn-comprar">Comprar</button>
</div>
